{"version":3,"file":"vue3-update-listener.umd.js","mappings":"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","sources":["webpack://vue3-update-listener/webpack/universalModuleDefinition","webpack://vue3-update-listener/./node_modules/vue-loader/dist/exportHelper.js","webpack://vue3-update-listener/external umd {\"commonjs\":\"vue\",\"commonjs2\":\"vue\",\"root\":\"Vue\"}","webpack://vue3-update-listener/webpack/bootstrap","webpack://vue3-update-listener/webpack/runtime/define property getters","webpack://vue3-update-listener/webpack/runtime/hasOwnProperty shorthand","webpack://vue3-update-listener/webpack/runtime/make namespace object","webpack://vue3-update-listener/webpack/runtime/publicPath","webpack://vue3-update-listener/./node_modules/@vue/cli-service/lib/commands/build/setPublicPath.js","webpack://vue3-update-listener/./packages/updateListener/utils/modalPromise.js","webpack://vue3-update-listener/./packages/updateListener/components/confirm/index.vue","webpack://vue3-update-listener/./packages/updateListener/components/confirm/index.vue?77a2","webpack://vue3-update-listener/./packages/updateListener/components/confirm/qingmu.vue","webpack://vue3-update-listener/./packages/updateListener/components/confirm/qingmu.vue?cadf","webpack://vue3-update-listener/./packages/updateListener/layout/mask.vue","webpack://vue3-update-listener/./packages/updateListener/layout/mask.vue?cb37","webpack://vue3-update-listener/./packages/updateListener/layout/mask.vue?8eeb","webpack://vue3-update-listener/./packages/updateListener/mixins/default.js","webpack://vue3-update-listener/./packages/updateListener/components/confirm/qingmu.vue?2107","webpack://vue3-update-listener/./packages/updateListener/components/confirm/qingmu.vue?d073","webpack://vue3-update-listener/./packages/updateListener/components/confirm/element.vue","webpack://vue3-update-listener/./packages/updateListener/components/confirm/element.vue?11f2","webpack://vue3-update-listener/./packages/updateListener/components/confirm/element.vue?be72","webpack://vue3-update-listener/./packages/updateListener/components/confirm/element.vue?8eb2","webpack://vue3-update-listener/./packages/updateListener/components/confirm/index.vue?c009","webpack://vue3-update-listener/./packages/updateListener/components/confirm/index.vue?37a2","webpack://vue3-update-listener/./packages/updateListener/components/confirm/confirm.js","webpack://vue3-update-listener/./packages/updateListener/index.js","webpack://vue3-update-listener/./packages/index.js","webpack://vue3-update-listener/./node_modules/@vue/cli-service/lib/commands/build/entry-lib.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"vue\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"vue3-update-listener\"] = factory(require(\"vue\"));\n\telse\n\t\troot[\"vue3-update-listener\"] = factory(root[\"Vue\"]);\n})((typeof self !== 'undefined' ? self : this), function(__WEBPACK_EXTERNAL_MODULE__274__) {\nreturn ","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// runtime helper for setting properties on components\n// in a tree-shakable way\nexports.default = (sfc, props) => {\n    const target = sfc.__vccOpts || sfc;\n    for (const [key, val] of props) {\n        target[key] = val;\n    }\n    return target;\n};\n","module.exports = __WEBPACK_EXTERNAL_MODULE__274__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"\";","/* eslint-disable no-var */\n// This file is imported into lib/wc client bundles.\n\nif (typeof window !== 'undefined') {\n  var currentScript = window.document.currentScript\n  if (process.env.NEED_CURRENTSCRIPT_POLYFILL) {\n    var getCurrentScript = require('@soda/get-current-script')\n    currentScript = getCurrentScript()\n\n    // for backward compatibility, because previously we directly included the polyfill\n    if (!('currentScript' in document)) {\n      Object.defineProperty(document, 'currentScript', { get: getCurrentScript })\n    }\n  }\n\n  var src = currentScript && currentScript.src.match(/(.+\\/)[^/]+\\.js(\\?.*)?$/)\n  if (src) {\n    __webpack_public_path__ = src[1] // eslint-disable-line\n  }\n}\n\n// Indicate to webpack that this file can be concatenated\nexport default null\n","/*\r\n * @Description: \r\n * @Author: 舌红\r\n * @Date: 2024-02-27 18:26:15\r\n * @LastEditors: 舌红\r\n * @LastEditTime: 2024-02-27 18:53:45\r\n */\r\n\r\n/**\r\n * modal调用promise化\r\n * @param {Object} comp Vue组件配置对象\r\n * @param {Object} defaultConfig 默认配置对象\r\n * @param {Element} mountedEl 挂载对象\r\n * @returns {Promise} Promise对象\r\n */\r\n\r\n// import Vue from 'vue'\r\nimport { createVNode, render } from 'vue'\r\n\r\nexport function modalPromise(comp, defaultConfig, mountedEl) {\r\n  return (config, removable = true) => {\r\n    return new Promise((resolve, reject) => {\r\n      const props = Object.assign({}, defaultConfig, config)\r\n      const vm = createVNode(comp, {\r\n        ...props,\r\n        onCancel: onCancel(reject),\r\n        onConfirm: onConfirm(resolve, removable)\r\n      }, null)\r\n\r\n      if (!mountedEl) {\r\n        mountedEl = document.body\r\n      }\r\n      render(vm, mountedEl)\r\n      \r\n      const parentNode = document.querySelector('.confirm-mask.update-confirm-loader')\r\n      \r\n      function onCancel() {\r\n        return function (data) {\r\n          parentNode && parentNode.remove()\r\n          reject(data)\r\n        }\r\n      }\r\n      \r\n      function onConfirm() {\r\n        return function (data) {\r\n          if (removable) {\r\n            parentNode && parentNode.remove()\r\n          }\r\n          resolve(data, this)\r\n        }\r\n      }\r\n    })\r\n  }\r\n}\r\n","<!--\r\n * @Description: \r\n * @Author: 舌红\r\n * @Date: 2024-02-20 09:46:22\r\n * @LastEditors: 舌红\r\n * @LastEditTime: 2024-02-27 16:33:32\r\n-->\r\n<template>\r\n  <component\r\n    :is=\"confirmTypeNames[type]\"\r\n    :content=\"content\"\r\n    @confirm=\"confirm\"\r\n    @cancel=\"cancel\"\r\n  />\r\n</template>\r\n\r\n<script>\r\nimport UpdateConfirmQingmu from './qingmu'\r\nimport UpdateConfirmElement from './element'\r\nimport DefaultMixins from '../../mixins/default'\r\n\r\nexport default {\r\n  name: 'UpdateConfirm',\r\n  components: {\r\n    UpdateConfirmQingmu,\r\n    UpdateConfirmElement\r\n  },\r\n  mixins: [DefaultMixins],\r\n  data() {\r\n    return {\r\n      confirmTypeNames: {\r\n        qingmu: 'UpdateConfirmQingmu',\r\n        element: 'UpdateConfirmElement'\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n</script>","export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-82.use[1]!../../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!../../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./index.vue?vue&type=template&id=34ebd655\"","<!--\r\n * @Description: \r\n * @Author: 舌红\r\n * @Date: 2024-02-19 11:59:50\r\n * @LastEditors: 舌红\r\n * @LastEditTime: 2024-02-23 14:44:36\r\n-->\r\n<template>\r\n  <ConfirmMask>\r\n    <div class=\"confirm-qingmu__body\">\r\n      <div class=\"confirm-qingmu__wrapper\">\r\n        <div class=\"confirm-qingmu__title\">\r\n          新版上线啦！\r\n        </div>\r\n        <div class=\"confirm-qingmu__content\">\r\n          <div class=\"confirm-qingmu__desc\">\r\n            {{ content }}\r\n          </div>\r\n        </div>\r\n        <div class=\"confirm-qingmu__footer\">\r\n          <div\r\n            class=\"confirm-qingmu__btn confirm-qingmu__btn--confirm\"\r\n            @click=\"confirm\"\r\n          >\r\n            立即更新\r\n          </div>\r\n          <div\r\n            class=\"confirm-qingmu__btn confirm-qingmu__btn--cancel\"\r\n            @click=\"cancel\"\r\n          >\r\n            <span>暂不更新</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </ConfirmMask>\r\n</template>\r\n\r\n<script>\r\nimport DefaultMixins from '../../mixins/default'\r\n\r\nexport default {\r\n  name: 'UpdateConfirmQingmu',\r\n  mixins: [DefaultMixins]\r\n}\r\n\r\n</script>","export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-82.use[1]!../../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!../../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./qingmu.vue?vue&type=template&id=65a28e1d\"","<!--\r\n * @Description: \r\n * @Author: 舌红\r\n * @Date: 2024-02-19 13:42:54\r\n * @LastEditors: 舌红\r\n * @LastEditTime: 2024-02-27 18:53:50\r\n-->\r\n<template>\r\n  <div class=\"confirm-mask update-confirm-loader\">\r\n    <slot />\r\n  </div>\r\n</template>","export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-82.use[1]!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./mask.vue?vue&type=template&id=228608f1\"","import { render } from \"./mask.vue?vue&type=template&id=228608f1\"\nconst script = {}\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","/*\r\n * @Description: \r\n * @Author: 舌红\r\n * @Date: 2024-02-19 13:49:58\r\n * @LastEditors: 舌红\r\n * @LastEditTime: 2024-02-20 11:14:23\r\n */\r\nimport ConfirmMask from '../layout/mask.vue'\r\n\r\nexport default {\r\n  components: {\r\n    ConfirmMask\r\n  },\r\n  props: {\r\n    content: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    type: {\r\n      type: String,\r\n      default: 'qingmu'\r\n    }\r\n  },\r\n  methods: {\r\n    cancel() {\r\n      this.$emit('cancel')\r\n    },\r\n    confirm() {\r\n      this.$emit('confirm')\r\n    }\r\n  }\r\n}","export { default } from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-82.use[1]!../../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./qingmu.vue?vue&type=script&lang=js\"; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-82.use[1]!../../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./qingmu.vue?vue&type=script&lang=js\"","import { render } from \"./qingmu.vue?vue&type=template&id=65a28e1d\"\nimport script from \"./qingmu.vue?vue&type=script&lang=js\"\nexport * from \"./qingmu.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<!--\r\n * @Description: \r\n * @Author: 舌红\r\n * @Date: 2024-01-10 17:01:44\r\n * @LastEditors: 舌红\r\n * @LastEditTime: 2024-02-23 14:44:12\r\n-->\r\n<template>\r\n  <ConfirmMask>\r\n    <div class=\"confirm-element__wrapper\">\r\n      <div class=\"confirm-element__header\">\r\n        <div class=\"confirm-element__title\">\r\n          提示\r\n        </div>\r\n        <div\r\n          class=\"confirm-element__close\"\r\n          @click=\"cancel\"\r\n        >\r\n          &times;\r\n        </div>\r\n      </div>\r\n      <div class=\"confirm-element__content\">\r\n        <div class=\"confirm-element__desc\">\r\n          {{ content }}\r\n        </div>\r\n      </div>\r\n      <div class=\"confirm-element__btns\">\r\n        <div\r\n          class=\"confirm-element__btn confirm-element__btn--default\"\r\n          @click=\"cancel\"\r\n        >\r\n          取消\r\n        </div>\r\n        <div\r\n          class=\"confirm-element__btn confirm-element__btn--primary\"\r\n          @click=\"confirm\"\r\n        >\r\n          确定\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </ConfirmMask>\r\n</template>\r\n\r\n<script>\r\nimport DefaultMixins from '../../mixins/default'\r\n\r\nexport default {\r\n  name: 'UpdateConfirmElement',\r\n  mixins: [DefaultMixins]\r\n}\r\n</script>","export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-82.use[1]!../../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!../../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./element.vue?vue&type=template&id=26c0f2be\"","export { default } from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-82.use[1]!../../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./element.vue?vue&type=script&lang=js\"; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-82.use[1]!../../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./element.vue?vue&type=script&lang=js\"","import { render } from \"./element.vue?vue&type=template&id=26c0f2be\"\nimport script from \"./element.vue?vue&type=script&lang=js\"\nexport * from \"./element.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export { default } from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-82.use[1]!../../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./index.vue?vue&type=script&lang=js\"; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-82.use[1]!../../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./index.vue?vue&type=script&lang=js\"","import { render } from \"./index.vue?vue&type=template&id=34ebd655\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","/*\r\n * @Description:\r\n * @Author: 舌红\r\n * @Date: 2024-01-10 11:59:14\r\n * @LastEditors: 舌红\r\n * @LastEditTime: 2024-02-20 09:58:41\r\n */\r\nimport { modalPromise } from '../../utils/modalPromise'\r\nimport ConfirmDialog from './index.vue'\r\n\r\nexport async function openConfirm(config, mountedEl) {\r\n  return modalPromise(ConfirmDialog, config, mountedEl)()\r\n}\r\n","/*\r\n * @Description:\r\n * @Author: 舌红\r\n * @Date: 2024-01-09 17:38:09\r\n * @LastEditors: 舌红\r\n * @LastEditTime: 2024-02-22 10:04:29\r\n */\r\n\r\nimport { openConfirm } from './components/confirm/confirm'\r\n\r\n/**\r\n * 监听版本更新\r\n * @param {Object} Vue Vue对象\r\n * @param {Object} options 配置对象\r\n * @param {String} options.versionUrl 请求版本信息根目录路径，默认为'/dist'\r\n * @param {Number} options.interval 检查更新间隔时间，默认为5分钟，单位为毫秒\r\n * @param {Boolean} options.isTip 是否提示更新，默认为true\r\n * @param {Boolean} options.isListenJSError 是否监听JS报错，默认为false\r\n * @param {Object} options.modalProps 弹窗配置\r\n * @param {String} options.modalProps.content 弹窗内容\r\n * @param {Element} options.modalProps.mountedEl 弹窗挂载节点，默认为body\r\n * @param {String} options.type 弹窗样式类型，默认为'qingmu', 可选值为'element'、'qingmu'、'custom'(暂不支持)\r\n * @param {Boolean} options.showTest 弹窗常显测试\r\n * @returns {Void} 无返回值\r\n */\r\n\r\nconst ListenVersion = {\r\n  install(Vue, options) {\r\n    let currebtVersion\r\n    let setInterValId\r\n    let isUpdate = false\r\n\r\n    // 获取版本信息\r\n    const getVersion = async () => {\r\n      return fetch(`${options.versionUrl || '/dist'}/version.json?timeStamp=` + Date.now()).then(res => {\r\n        return res.json()\r\n      }).catch(err => {\r\n        console.log(err)\r\n      })\r\n    }\r\n\r\n    // 检查是否有新版本\r\n    const checkUpdate = async () => {\r\n      const commitHash = (await getVersion()).commitHash\r\n      return commitHash !== currebtVersion\r\n    }\r\n\r\n    // 停止检查更新\r\n    const stopUpdate = () => {\r\n      if (setInterValId) {\r\n        console.log('停止检查更新')\r\n        clearInterval(setInterValId)\r\n        setInterValId = ''\r\n      }\r\n    }\r\n\r\n    // 开始检查更新\r\n    const startListen = async () => {\r\n      if (!options.showTest && (options.isTip === false || process.env.NODE_ENV === 'development')) return\r\n      const versionInfo = await getVersion()\r\n      if (!versionInfo || isUpdate) return\r\n      currebtVersion = versionInfo.commitHash\r\n      console.log('开始检查更新')\r\n      setInterValId = setInterval(async () => {\r\n        isUpdate = options.showTest || (await checkUpdate())\r\n        // 判断versionInfo.message是否有--no-tip字符，如果有则不提示更新\r\n        if ((isUpdate && versionInfo.isTip) || options.showTest) {\r\n          console.log('有新版本')\r\n          stopUpdate()\r\n          await callConfirm()\r\n        }\r\n      }, options.interval || 5 * 60 * 1000)\r\n    }\r\n\r\n    const callConfirm = async () => {\r\n      try {\r\n        const hasContent = options.modalProps && options.modalProps.content\r\n        await openConfirm({\r\n          content: hasContent ? options.modalProps.content : '为了更好的版本体验请更新到最新版本',\r\n          type: options.type || 'qingmu',\r\n        }, options.modalProps && options.modalProps.mountedEl)\r\n        window.location.reload()\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    }\r\n\r\n    const listenPageVisible = () => {\r\n      if (document.hidden) {\r\n        stopUpdate()\r\n      } else {\r\n        startListen()\r\n      }\r\n    }\r\n\r\n    document.addEventListener('visibilitychange', listenPageVisible)\r\n\r\n    const listenJSError = async (event) => {\r\n      if (event.target.nodeName === 'SCRIPT') {\r\n        stopUpdate()\r\n        await callConfirm()\r\n      }\r\n    }  \r\n\r\n    if (options.isListenJSError) {\r\n      window.addEventListener('error', listenJSError)\r\n    }\r\n\r\n    startListen()\r\n  }\r\n}\r\n\r\nexport default ListenVersion\r\n","/*\r\n * @Description: \r\n * @Author: 舌红\r\n * @Date: 2024-01-10 16:16:52\r\n * @LastEditors: 舌红\r\n * @LastEditTime: 2024-02-19 18:49:54\r\n */\r\nimport ListenerLoader from \"./updateListener/index.js\"\r\nimport './updateListener/theme-chalk/index.scss'\r\n\r\n/**\r\n * 监听版本更新\r\n * @param {Object} Vue Vue对象\r\n * @param {Object} options 配置对象\r\n * @param {String} options.versionUrl 请求版本信息根目录路径，默认为'/dist'\r\n * @param {Number} options.interval 检查更新间隔时间，默认为5分钟，单位为毫秒\r\n * @param {Boolean} options.isTip 是否提示更新，默认为true\r\n * @param {Boolean} options.isListenJSError 是否监听JS报错，默认为false\r\n * @param {Object} options.modalProps 弹窗配置\r\n * @param {String} options.modalProps.content 弹窗内容\r\n * @param {Element} options.modalProps.mountedEl 弹窗挂载节点，默认为body\r\n * @param {String} options.type 弹窗样式类型，默认为'qingmu', 可选值为'element'、'qingmu'、'custom'(暂不支持)\r\n * @param {Boolean} options.showTest 弹窗常显测试\r\n * @returns {Void} 无返回值\r\n */\r\n\r\nexport default ListenerLoader\r\n\r\n","import './setPublicPath'\nimport mod from '~entry'\nexport default mod\nexport * from '~entry'\n"],"names":["Object","defineProperty","exports","value","default","sfc","props","target","__vccOpts","key","val","createVNode","render","modalPromise","comp","defaultConfig","mountedEl","config","removable","Promise","resolve","reject","assign","vm","onCancel","onConfirm","document","body","parentNode","querySelector","data","remove","_createBlock","_resolveDynamicComponent","$data","confirmTypeNames","_ctx","type","content","confirm","cancel","class","_createElementVNode","_hoisted_7","_component_ConfirmMask","_withCtx","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_toDisplayString","_hoisted_6","onClick","_cache","args","_hoisted_8","_","_createElementBlock","_renderSlot","$slots","ConfirmMask","components","String","methods","$emit","DefaultMixins","name","mixins","UpdateConfirmQingmu","UpdateConfirmElement","qingmu","element","ConfirmDialog","openConfirm","ListenVersion","install","Vue","options","currebtVersion","setInterValId","isUpdate","getVersion","fetch","versionUrl","Date","now","then","res","json","catch","err","console","log","checkUpdate","commitHash","stopUpdate","clearInterval","startListen","showTest","isTip","process","env","NODE_ENV","versionInfo","setInterval","callConfirm","interval","hasContent","modalProps","window","location","reload","error","listenPageVisible","hidden","addEventListener","listenJSError","event","nodeName","isListenJSError","ListenerLoader"],"sourceRoot":""}